(()=>{"use strict";var e={94:(e,t,o)=>{o.d(t,{g:()=>l,i:()=>s});var r=o(907),n=o(523),a=o(667);const s=async(e,t)=>{const o=e.querySelector(".bigup__alert_output");if(o)return r.fF&&console.log(`${(0,r.P_)()} |START| alertsShowWaitHide | ${t[0]}`),(0,n.w)(e,!0),o.style.display="flex",await p(o,"opacity","0"),await(0,a.e)(o),await c(o,t),await p(o,"opacity","1"),"alert alertsShow complete"},l=async(e,t,o)=>{const s=e.querySelector(".bigup__alert_output");var l;if(s)return r.fF&&console.log(`${(0,r.P_)()} |START| alertsShowWaitHide | ${t[0]}`),(0,n.w)(e,!0),s.style.display="flex",await p(s,"opacity","0"),await(0,a.e)(s),await c(s,t),await p(s,"opacity","1"),await(l=o,new Promise((e=>{setTimeout((()=>{e("Pause completed successfully.")}),l)}))),await p(s,"opacity","0"),await(0,a.e)(s),s.style.display="none",(0,n.w)(e,!1),r.fF&&console.log(`${(0,r.P_)()} | END | alertsShowWaitHide | ${t[0]}`),"alert alertsShowWaitHide complete"};function i(e){return null!=e&&"function"==typeof e[Symbol.iterator]}function c(e,t){const o="bigup__alert",n={danger:"-danger",success:"-success",info:"-info",warning:"-warning"};return r.fF&&console.log(`${(0,r.P_)()} |START| popoutsIntoDom | ${t[0]}`),new Promise(((s,l)=>{try{if(!e||e.nodeType!==Node.ELEMENT_NODE)throw new TypeError("output must be an element node.");if(!i(t))throw new TypeError(`'alerts' must be non-string iterable. ${typeof t} found.`);let r=[];t.forEach((t=>{let s=document.createElement("p");s.innerText=(0,a.c)(t.text),[o,o+n[t.type]].forEach((e=>s.classList.add(e))),e.appendChild(s),r.push(s)})),s(r)}catch(e){l(e)}finally{r.fF&&console.log(`${(0,r.P_)()} | END | popoutsIntoDom | ${t[0]}`)}}))}function u(e,t){return new Promise(((o,n)=>{try{r.fF&&console.log(`${(0,r.P_)()} |START| transition | ${this.classList} : ${e} : ${t}`),this.style[e]=t;let n=setInterval((()=>{getComputedStyle(this).opacity===t&&(clearInterval(n),r.fF&&console.log(`${(0,r.P_)()} | END | transition | ${this.classList} : ${e} : ${t}`),o("Transition complete."))}),10)}catch(e){n(e)}}))}async function p(e,t,o){if(i(e)||(e=[e]),i(e)&&e.every((e=>1===e.nodeType))){const r=e.map((e=>u.bind(e)(t,o)));return await Promise.all(r)}throw new TypeError("elements must be a non-string iterable. "+typeof e+" found.")}},907:(e,t,o)=>{o.d(t,{BL:()=>a,P_:()=>s,fF:()=>r});let r=!1,n="";const a=()=>n=Date.now(),s=()=>(Date.now()-n).toString().padStart(5,"0")},466:(e,t,o)=>{},523:(e,t,o)=>{o.d(t,{w:()=>n});var r=o(907);function n(e,t){const o=e.querySelectorAll(":is( input, textarea )"),n=e.querySelector(".bigup__form_submit");t?(r.fF&&console.log(`${(0,r.P_)()} |START| formLock | Locked`),e.classList.add("bigup__form-locked"),o.forEach((e=>{e.disabled=!0})),n.disabled=!0):(e.classList.remove("bigup__form-locked"),o.forEach((e=>{e.disabled=!1})),n.disabled=!1,r.fF&&console.log(`${(0,r.P_)()} | END | formLock | Unlocked`))}},709:(e,t,o)=>{o.d(t,{E:()=>l,Q:()=>s});var r=o(907),n=(o(466),o(667)),a=o(94);const s=wp_localize_bigup_contact_form_admin;async function l(e){e.preventDefault(),r.fF&&(0,r.BL)(),r.fF&&console.log("Time | Start/Finish | Function | Target"),r.fF&&console.log((0,r.P_)()+" |START| handleSubmit");const t=e.currentTarget.closest("form"),o=new FormData;t.querySelectorAll(":is( input, textarea )").forEach((e=>{o.append(e.name,e.value)}));const l=s.rest_url,c={method:"POST",headers:{"X-WP-Nonce":s.rest_nonce,Accept:"application/json"},body:o};try{const e=[{text:"Connecting...",type:"info"}];let[o]=await Promise.all([i(l,c),(0,a.i)(t,e)]);const r=[];if(o.output.forEach((e=>r.push({text:e,type:o.ok?"success":"danger"}))),(0,a.g)(t,r,5e3),o.ok){t.querySelectorAll(".bigup__form_input").forEach((e=>{e.value=""}));const e=t.querySelector(".bigup__customFileUpload_output");e&&(0,n.e)(e)}}catch(e){console.error(e)}finally{r.fF&&console.log((0,r.P_)()+" | END | handleSubmit")}}async function i(e,t){try{r.fF&&console.log(`${(0,r.P_)()} |START| Fetch request`);const o=new AbortController,n=setTimeout((()=>o.abort()),14e3),a=await fetch(e,{...t,signal:o.signal});clearTimeout(n);const s=await a.json();if(s.ok=a.ok,"string"==typeof s.output&&(s.output=[s.output]),!s.ok)throw s;return s}catch(e){e.output||(e.output=["Failed to establish a connection to the server."],e.ok=!1,console.error(e));for(const t in e.output)console.error((0,n.c)(e.output[t]));return e}finally{r.fF&&console.log(`${(0,r.P_)()} | END | Fetch request`)}}},667:(e,t,o)=>{o.d(t,{c:()=>a,e:()=>n});var r=o(907);function n(e){return r.fF&&console.log(`${(0,r.P_)()} |START| removeChildren | ${e.classList}`),new Promise(((t,o)=>{try{for(;e.firstChild;)e.removeChild(e.firstChild);t("Child nodes removed successfully.")}catch(e){o(e)}finally{r.fF&&console.log(`${(0,r.P_)()} | END | removeChildren | ${e.classList}`)}}))}function a(e){return"string"!=typeof e?(console.error(`makeHumanReadable expects a string, but ${typeof e} received.`,e),"error getting message"):e.replace(/(?<!\([^)]*?)<[^>]*?>/g,"").match(/(\([^\)]*?\))|[ \p{L}\p{N}\p{M}\p{P}]/gu).join("").replace(/^\s*|\s(?=\s)|\s*$/g,"")}}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,o),a.exports}o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=o(709),t=o(523);let r=setInterval((()=>{"complete"===document.readyState&&(clearInterval(r),function(){const o=document.querySelector(".bigup__smtpTest_button"),r=o.closest("form");o&&(o.addEventListener("click",e.E),e.Q.settings_ok&&(0,t.w)(r,!1))}())}),250)})()})();
//# sourceMappingURL=bigup-contact-form-admin.js.map